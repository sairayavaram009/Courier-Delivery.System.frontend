import{r as i,a as f,c as _,w as u,b as g,d as l,V as x,e as r,f as C,g as S,i as k,h as m,j as y,t as q,m as N}from"./index-e74253a8.js";import{_ as T}from"./_plugin-vue_export-helper-c27b6911.js";import{V as B,a as n,b as U}from"./VTextField-aad6fd0f.js";import{V as w}from"./VTextarea-d2bdee76.js";const E={id:"body"},F={__name:"Subscribe",setup(R){const t=i({value:!1,color:"",text:""}),a=i({name:"",contact:"",email:"",message:""}),d=[e=>!!e||"Name is required",e=>e&&e.length<=50||"Name must be less than or equal to 50 characters"],c=[e=>!!e||"Contact is required",e=>/^[0-9]{10}$/.test(e)||"Contact must be a 10-digit number"],v=[e=>!!e||"Email is required",e=>/.+@.+\..+/.test(e)||"Email must be valid"];async function b(){try{const e=await N.post("/travelapi/subscribe",{name:a.value.name,contact:a.value.contact,email:a.value.email,message:a.value.message});console.log("Form submitted:",e.data),t.value.value=!0,t.value.color="success",t.value.text="Subscription successful!",V()}catch(e){console.error("Error submitting form:",e.response.data.message),t.value.value=!0,t.value.color="error",t.value.text=e.response.data.message||"Thank you for subscribing"}}function V(){a.value.name="",a.value.contact="",a.value.email="",a.value.message=""}function p(){t.value.value=!1}return(e,s)=>(f(),_(B,null,{default:u(()=>[g("div",E,[l(y,{class:"rounded-lg elevation-5"},{default:u(()=>[l(x,{class:"headline mb-2"},{default:u(()=>[r("Subscribe to our Newsletter")]),_:1}),l(C,null,{default:u(()=>[l(n,{modelValue:a.value.name,"onUpdate:modelValue":s[0]||(s[0]=o=>a.value.name=o),label:"Name",rules:d,required:""},null,8,["modelValue"]),l(n,{modelValue:a.value.contact,"onUpdate:modelValue":s[1]||(s[1]=o=>a.value.contact=o),label:"Contact",rules:c,required:""},null,8,["modelValue"]),l(n,{modelValue:a.value.email,"onUpdate:modelValue":s[2]||(s[2]=o=>a.value.email=o),label:"Email",rules:v,required:""},null,8,["modelValue"]),l(w,{modelValue:a.value.message,"onUpdate:modelValue":s[3]||(s[3]=o=>a.value.message=o),label:"Message"},null,8,["modelValue"])]),_:1}),l(S,null,{default:u(()=>[l(k),l(m,{variant:"flat",color:"primary",onClick:b},{default:u(()=>[r("Subscribe")]),_:1})]),_:1})]),_:1}),l(U,{modelValue:t.value.value,"onUpdate:modelValue":s[4]||(s[4]=o=>t.value.value=o),rounded:"pill"},{actions:u(()=>[l(m,{color:t.value.color,variant:"text",onClick:p},{default:u(()=>[r("Close")]),_:1},8,["color"])]),default:u(()=>[r(q(t.value.text)+" ",1)]),_:1},8,["modelValue"])])]),_:1}))}},M=T(F,[["__scopeId","data-v-3e59f847"]]);export{M as default};
