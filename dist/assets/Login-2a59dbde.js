import{u as k,r as v,o as A,a as S,c as q,w as o,b as $,d as l,V as f,e as s,f as V,g as p,h as r,i as g,j as c,t as B,U as C}from"./index-e74253a8.js";import{V as L,a as d,b as T}from"./VTextField-aad6fd0f.js";import{V as D}from"./VDialog-a1f3c067.js";const E={id:"body"},R={__name:"Login",setup(F){const i=k(),m=v(!1),t=v({value:!1,color:"",text:""}),u=v({firstName:"",lastName:"",email:"",password:""});A(async()=>{localStorage.getItem("user")!==null&&i.push({name:"dashboard"})});function b(){i.push({name:"dashboard"})}async function w(){await C.addUser(u.value).then(()=>{t.value.value=!0,t.value.color="green",t.value.text="Account created successfully!",i.push({name:"login"})}).catch(n=>{console.log(n),t.value.value=!0,t.value.color="error",t.value.text=n.response.data.message})}async function x(){console.log(u.value),await C.loginUser(u).then(n=>{window.localStorage.setItem("user",JSON.stringify(n.data)),t.value.value=!0,t.value.color="green",t.value.text="Login successful!",i.push({name:"dashboard"})}).catch(n=>{console.log(n),t.value.value=!0,t.value.color="error",t.value.text=n.response.data.message})}function y(){m.value=!0}function N(){m.value=!1}function U(){t.value.value=!1}return(n,e)=>(S(),q(L,null,{default:o(()=>[$("div",E,[l(c,{class:"rounded-lg elevation-5"},{default:o(()=>[l(f,{class:"headline mb-2"},{default:o(()=>[s("Login ")]),_:1}),l(V,null,{default:o(()=>[l(d,{modelValue:u.value.email,"onUpdate:modelValue":e[0]||(e[0]=a=>u.value.email=a),label:"Email",required:""},null,8,["modelValue"]),l(d,{modelValue:u.value.password,"onUpdate:modelValue":e[1]||(e[1]=a=>u.value.password=a),label:"Password",required:""},null,8,["modelValue"])]),_:1}),l(p,null,{default:o(()=>[l(r,{variant:"flat",color:"secondary",onClick:e[2]||(e[2]=a=>y())},{default:o(()=>[s("Create Account")]),_:1}),l(g),l(r,{variant:"flat",color:"primary",onClick:e[3]||(e[3]=a=>x())},{default:o(()=>[s("Login")]),_:1})]),_:1})]),_:1}),l(c,{class:"rounded-lg elevation-5 my-8"},{default:o(()=>[l(f,{class:"text-center headline"},{default:o(()=>[l(r,{class:"ml-2",variant:"flat",color:"secondary",onClick:e[4]||(e[4]=a=>b())},{default:o(()=>[s(" View More ")]),_:1})]),_:1})]),_:1}),l(D,{persistent:"",modelValue:m.value,"onUpdate:modelValue":e[11]||(e[11]=a=>m.value=a),width:"800"},{default:o(()=>[l(c,{class:"rounded-lg elevation-5"},{default:o(()=>[l(f,{class:"headline mb-2"},{default:o(()=>[s("Create Account ")]),_:1}),l(V,null,{default:o(()=>[l(d,{modelValue:u.value.firstName,"onUpdate:modelValue":e[5]||(e[5]=a=>u.value.firstName=a),label:"First Name",required:""},null,8,["modelValue"]),l(d,{modelValue:u.value.lastName,"onUpdate:modelValue":e[6]||(e[6]=a=>u.value.lastName=a),label:"Last Name",required:""},null,8,["modelValue"]),l(d,{modelValue:u.value.email,"onUpdate:modelValue":e[7]||(e[7]=a=>u.value.email=a),label:"Email",required:""},null,8,["modelValue"]),l(d,{modelValue:u.value.password,"onUpdate:modelValue":e[8]||(e[8]=a=>u.value.password=a),label:"Password",required:""},null,8,["modelValue"])]),_:1}),l(p,null,{default:o(()=>[l(g),l(r,{variant:"flat",color:"secondary",onClick:e[9]||(e[9]=a=>N())},{default:o(()=>[s("Close")]),_:1}),l(r,{variant:"flat",color:"primary",onClick:e[10]||(e[10]=a=>w())},{default:o(()=>[s("Create Account")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(T,{modelValue:t.value.value,"onUpdate:modelValue":e[13]||(e[13]=a=>t.value.value=a),rounded:"pill"},{actions:o(()=>[l(r,{color:t.value.color,variant:"text",onClick:e[12]||(e[12]=a=>U())},{default:o(()=>[s(" Close ")]),_:1},8,["color"])]),default:o(()=>[s(B(t.value.text)+" ",1)]),_:1},8,["modelValue"])])]),_:1}))}};export{R as default};
