import{I as g,d as B}from"./VSelect-e44db73d.js";import{V as E,a as C,b as T}from"./VTextField-aad6fd0f.js";import{V as I,a as h,b as q}from"./VTable-81f3a4ed.js";import{r as c,o as F,a as f,c as b,w as t,b as d,d as l,V as k,e as i,h as m,y as j,k as y,n as D,t as v,O as L,F as O,j as z,a0 as J,f as M,g as R,i as G}from"./index-e74253a8.js";import{V as H}from"./VDialog-a1f3c067.js";const K={id:"body"},Q=d("thead",null,[d("tr",null,[d("th",{class:"text-left"},"Name"),d("th",{class:"text-left"},"Unit"),d("th",{class:"text-left"},"Price Per Unit"),d("th",{class:"text-left"},"Actions")])],-1),te={__name:"AttractionsList",setup(W){const U=["cup","gallon","gram","kilogram","liter","milliliter","ounce","pint","piece","pound","quart","tablespoon","teaspoon","unit"],V=c([]),s=c(!1),r=c(!1),x=c(null),e=c({value:!1,color:"",text:""}),a=c({id:void 0,name:void 0,unit:void 0,pricePerUnit:void 0});F(async()=>{await p(),x.value=JSON.parse(localStorage.getItem("user"))});async function p(){await g.getIngredients().then(u=>{V.value=u.data}).catch(u=>{console.log(u),e.value.value=!0,e.value.color="error",e.value.text=u.response.data.message})}async function _(){s.value=!1,delete a.id,await g.addIngredient(a.value).then(()=>{e.value.value=!0,e.value.color="green",e.value.text=`${a.value.name} added successfully!`}).catch(u=>{console.log(u),e.value.value=!0,e.value.color="error",e.value.text=u.response.data.message}),await p()}async function w(){r.value=!1,await g.updateIngredient(a.value).then(()=>{e.value.value=!0,e.value.color="green",e.value.text=`${a.name} updated successfully!`}).catch(u=>{console.log(u),e.value.value=!0,e.value.color="error",e.value.text=u.response.data.message}),await p()}function P(){a.value.name=void 0,a.value.unit=void 0,a.value.pricePerUnit=void 0,s.value=!0}function A(){s.value=!1}function S(u){a.value.id=u.id,a.value.name=u.name,a.value.unit=u.unit,a.value.pricePerUnit=u.pricePerUnit,r.value=!0}function $(){r.value=!1}function N(){e.value.value=!1}return(u,o)=>(f(),b(E,null,{default:t(()=>[d("div",K,[l(h,{align:"center",class:"mb-4"},{default:t(()=>[l(I,{cols:"10"},{default:t(()=>[l(k,{class:"pl-0 text-h4 font-weight-bold"},{default:t(()=>[i("Ingredients ")]),_:1})]),_:1}),l(I,{class:"d-flex justify-end",cols:"2"},{default:t(()=>[x.value!==null?(f(),b(m,{key:0,color:"accent",onClick:o[0]||(o[0]=n=>P())},{default:t(()=>[i("Add")]),_:1})):j("",!0)]),_:1})]),_:1}),l(q,{class:"rounded-lg elevation-5"},{default:t(()=>[Q,d("tbody",null,[(f(!0),y(O,null,D(V.value,n=>(f(),y("tr",{key:n.name},[d("td",null,v(n.name),1),d("td",null,v(n.unit),1),d("td",null,"$"+v(n.pricePerUnit),1),d("td",null,[l(L,{size:"small",icon:"mdi-pencil",onClick:X=>S(n)},null,8,["onClick"])])]))),128))])]),_:1}),l(H,{persistent:"","model-value":s.value||r.value,width:"800"},{default:t(()=>[l(z,{class:"rounded-lg elevation-5"},{default:t(()=>[l(J,null,{default:t(()=>[l(k,{class:"headline mb-2"},{default:t(()=>[i(v(s.value?"Add Ingredient":r.value?"Edit Ingredient":""),1)]),_:1})]),_:1}),l(M,null,{default:t(()=>[l(C,{modelValue:a.value.name,"onUpdate:modelValue":o[1]||(o[1]=n=>a.value.name=n),label:"Name",required:""},null,8,["modelValue"]),l(B,{modelValue:a.value.unit,"onUpdate:modelValue":o[2]||(o[2]=n=>a.value.unit=n),items:U,label:"Unit",required:""},null,8,["modelValue"]),l(C,{modelValue:a.value.pricePerUnit,"onUpdate:modelValue":o[3]||(o[3]=n=>a.value.pricePerUnit=n),label:"Price Per Unit",type:"number"},null,8,["modelValue"])]),_:1}),l(R,null,{default:t(()=>[l(G),l(m,{variant:"flat",color:"secondary",onClick:o[4]||(o[4]=n=>s.value?A():r.value?$():!1)},{default:t(()=>[i("Close")]),_:1}),l(m,{variant:"flat",color:"primary",onClick:o[5]||(o[5]=n=>s.value?_():r.value?w():!1)},{default:t(()=>[i(v(s.value?"Add Ingredient":r.value?"Update Ingredient":""),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]),l(T,{modelValue:e.value.value,"onUpdate:modelValue":o[7]||(o[7]=n=>e.value.value=n),rounded:"pill"},{actions:t(()=>[l(m,{color:e.value.color,variant:"text",onClick:o[6]||(o[6]=n=>N())},{default:t(()=>[i(" Close ")]),_:1},8,["color"])]),default:t(()=>[i(v(e.value.text)+" ",1)]),_:1},8,["modelValue"])])]),_:1}))}};export{te as default};
